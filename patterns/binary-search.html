<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Binary Search Pattern - DSA Patterns</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6; color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
        }
        .container {
            max-width: 1200px; margin: 0 auto; background: white;
            border-radius: 15px; box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
            overflow: hidden;
        }
        header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white; padding: 40px; position: relative;
        }
        .back-button {
            display: inline-block; color: white; text-decoration: none;
            font-size: 1.1em; margin-bottom: 20px; padding: 8px 16px;
            border: 2px solid white; border-radius: 5px;
            transition: all 0.3s ease;
        }
        .back-button:hover { background: white; color: #667eea; }
        header h1 { font-size: 2.5em; margin-bottom: 10px; }
        .category-badge {
            display: inline-block; background: rgba(255, 255, 255, 0.2);
            padding: 8px 16px; border-radius: 20px; font-size: 0.9em;
            margin-top: 10px;
        }
        .content { padding: 40px; }
        .section { margin-bottom: 40px; }
        .section h2 {
            color: #667eea; font-size: 1.8em; margin-bottom: 20px;
            padding-bottom: 10px; border-bottom: 3px solid #667eea;
        }
        .diagram {
            margin: 25px 0; padding: 25px; background: #f8f9fa;
            border-radius: 8px; border: 2px solid #e0e0e0;
        }
        .diagram-title {
            font-weight: bold; color: #667eea;
            margin-bottom: 15px; font-size: 1.2em;
        }
        .array-container {
            display: flex; align-items: center; gap: 8px;
            margin: 20px 0; flex-wrap: wrap; justify-content: center;
        }
        .array-cell {
            width: 60px; height: 60px; border: 3px solid #667eea;
            display: flex; align-items: center; justify-content: center;
            font-weight: bold; font-size: 1.2em; background: #fff;
            border-radius: 8px; position: relative;
            transition: all 0.3s ease;
        }
        .array-cell.left { background: #ffcdd2; border-color: #e57373; }
        .array-cell.right { background: #c5cae9; border-color: #7986cb; }
        .array-cell.mid { background: #fff59d; border-color: #fbc02d; transform: scale(1.15); }
        .array-cell.found { background: #81c784; border-color: #4caf50; transform: scale(1.15); }
        .array-cell.eliminated { background: #e0e0e0; border-color: #9e9e9e; opacity: 0.4; }
        .pointer-label {
            position: absolute; bottom: -25px;
            font-size: 0.8em; font-weight: bold;
        }
        .label-left { color: #e57373; }
        .label-mid { color: #fbc02d; }
        .label-right { color: #7986cb; }
        .btn {
            padding: 0; border: none; border-radius: 50%;
            background: #667eea; color: white; cursor: pointer;
            font-size: 24px; transition: all 0.3s ease;
            width: 50px; height: 50px;
            display: inline-flex; align-items: center; justify-content: center;
        }
        .btn:hover { background: #5568d3; transform: scale(1.1); }
        .btn:disabled {
            background: #ccc; cursor: not-allowed; transform: none; opacity: 0.5;
        }
        .animation-controls {
            display: flex; gap: 10px; justify-content: center; margin: 20px 0;
        }
        .code-example {
            background: #2c3e50; color: #ecf0f1; padding: 20px;
            border-radius: 8px; overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 0.95em; line-height: 1.6; white-space: pre;
        }
        .problem-item {
            background: #f8f9fa; margin-bottom: 10px; border-radius: 5px;
            overflow: hidden; border-left: 4px solid #667eea;
        }
        .problem-header {
            padding: 15px; cursor: pointer;
            display: flex; justify-content: space-between;
            align-items: center; transition: background 0.3s ease;
        }
        .problem-header:hover { background: #e9ecef; }
        .problem-difficulty {
            padding: 4px 12px; border-radius: 12px;
            font-size: 0.85em; font-weight: bold;
        }
        .problem-difficulty.easy { background: #4caf50; color: white; }
        .problem-difficulty.medium { background: #ff9800; color: white; }
        .problem-difficulty.hard { background: #f44336; color: white; }
        .problem-title {
            flex: 1; margin: 0 15px; font-weight: 600; color: #2c3e50;
        }
        .expand-icon {
            color: #667eea; font-weight: bold;
            transition: transform 0.3s ease;
        }
        .problem-details {
            display: none; padding: 20px; background: white;
            border-top: 1px solid #dee2e6;
        }
        .problem-details pre {
            background: #f8f9fa; padding: 15px; border-radius: 5px;
            overflow-x: auto; border-left: 3px solid #667eea;
        }
        .problem-details a {
            color: #667eea; text-decoration: none; font-weight: bold;
        }
        .problem-details a:hover { text-decoration: underline; }
        .difficulty-header {
            font-size: 1.3em; font-weight: bold;
            margin-bottom: 15px; padding: 10px; border-radius: 5px;
        }
        .difficulty-header.easy { background: #c8e6c9; color: #2e7d32; }
        .difficulty-header.medium { background: #fff9c4; color: #f57f17; }
        .difficulty-header.hard { background: #ffcdd2; color: #c62828; }
        footer {
            background: #2c3e50; color: white; text-align: center;
            padding: 20px; font-size: 0.9em;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <a href="../index.html" class="back-button">‚Üê Back to All Patterns</a>
            <h1>Pattern 4: Binary Search</h1>
            <span class="category-badge">Arrays</span>
        </header>

        <div class="content">
            <div class="section">
                <h2>üìñ Pattern Overview</h2>
                <p>Binary Search efficiently searches sorted arrays by repeatedly dividing the search space in half. This technique reduces time complexity from O(n) to O(log n).</p>
                <ul style="margin: 15px 0 0 30px;">
                    <li>Works only on sorted arrays</li>
                    <li>Divides search space by half each iteration</li>
                    <li>Compares target with middle element</li>
                    <li>O(log n) time complexity</li>
                </ul>
            </div>

            <div class="section">
                <h2>üé® Visual Representation</h2>

                <div style="background: #e0e7ff; padding: 20px; border-radius: 8px; margin-bottom: 20px;">
                    <h3 style="color: #2d3748; margin-bottom: 10px;">Problem:</h3>
                    <p style="color: #4a5568; line-height: 1.8; margin-bottom: 15px;">
                        Given a sorted array of integers and a target value, find the index of the target in the array. If not found, return -1.
                    </p>

                    <div style="background: white; padding: 15px; border-radius: 5px; margin: 10px 0;">
                        <strong>Example:</strong><br>
                        <strong style="color: #667eea;">Input:</strong> array = [1, 5, 9, 13, 17, 21, 23, 28, 34], target = 23<br>
                        <strong style="color: #10b981;">Output:</strong> 6 (index where 23 is found)
                    </div>

                    <h3 style="color: #2d3748; margin: 15px 0 10px 0;">How it works:</h3>
                    <ul style="color: #4a5568; line-height: 1.8; margin-left: 20px;">
                        <li>Start with <strong>left</strong> pointer at index 0, <strong>right</strong> pointer at last index</li>
                        <li>Calculate <strong>mid</strong> = (left + right) / 2</li>
                        <li>If array[mid] == target ‚Üí Found! Return mid</li>
                        <li>If array[mid] < target ‚Üí Search right half (eliminate left half)</li>
                        <li>If array[mid] > target ‚Üí Search left half (eliminate right half)</li>
                        <li>Repeat until target is found or search space is exhausted</li>
                    </ul>
                </div>

                <div class="diagram">
                    <div class="diagram-title">Step-by-Step Visualization</div>
                    <p style="color: #666; margin-bottom: 20px;">Target = 23 in Sorted Array: [1, 5, 9, 13, 17, 21, 23, 28, 34]</p>
                    <div class="array-container" id="arrayContainer"></div>
                    <div id="statusMessage" style="text-align: center; margin: 20px 0; font-weight: bold; color: #667eea; min-height: 30px; font-size: 1.1em;"></div>
                    <div class="animation-controls">
                        <button id="playBtn" class="btn" onclick="playStep()" title="Play Step">‚ñ∂</button>
                        <button id="resetBtn" class="btn" onclick="resetAnimation()" disabled title="Reset">‚ü≤</button>
                    </div>
                    <div style="margin-top: 20px; padding: 15px; background: #e3f2fd; border-radius: 5px;">
                        <strong style="color: #1976d2;">How it works:</strong>
                        <ol style="margin-left: 20px; margin-top: 10px; color: #555;">
                            <li>Set left pointer at start, right pointer at end</li>
                            <li>Calculate mid = (left + right) / 2</li>
                            <li>If arr[mid] == target, found!</li>
                            <li>If arr[mid] < target, search right half (left = mid + 1)</li>
                            <li>If arr[mid] > target, search left half (right = mid - 1)</li>
                        </ol>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>üíª Java Implementation</h2>
                <div class="code-example">public static int binarySearch(int[] arr, int target) {
    int left = 0, right = arr.length - 1;
    
    while (left <= right) {
        int mid = left + (right - left) / 2;
        
        if (arr[mid] == target) {
            return mid;  // Found!
        }
        
        if (arr[mid] < target) {
            left = mid + 1;  // Search right half
        } else {
            right = mid - 1; // Search left half
        }
    }
    
    return -1; // Not found
}

// Recursive approach
public static int binarySearchRecursive(int[] arr, int target, 
                                        int left, int right) {
    if (left > right) return -1;
    
    int mid = left + (right - left) / 2;
    
    if (arr[mid] == target) return mid;
    if (arr[mid] < target) 
        return binarySearchRecursive(arr, target, mid + 1, right);
    return binarySearchRecursive(arr, target, left, mid - 1);
}</div>
            </div>

            <div class="section">
                <h2>üéØ Practice Problems (15 Problems)</h2>
                
                <div style="margin-bottom: 30px;">
                    <div class="difficulty-header easy">Easy Problems (5)</div>
                    
                    <div class="problem-item">
                        <div class="problem-header" onclick="toggleProblem('p1')">
                            <span class="problem-difficulty easy">Easy</span>
                            <span class="problem-title">704. Binary Search</span>
                            <span class="expand-icon">‚ñº</span>
                        </div>
                        <div id="p1" class="problem-details">
                            <p><strong>Description:</strong> Given a sorted array and a target value, return the index if found, otherwise return -1.</p>
                            <pre>Input: nums = [-1,0,3,5,9,12], target = 9
Output: 4
Explanation: 9 exists in nums at index 4</pre>
                            <p><strong>Constraints:</strong> 1 ‚â§ nums.length ‚â§ 10‚Å¥</p>
                            <p><a href="https://leetcode.com/problems/binary-search/" target="_blank">Solve on LeetCode ‚Üí</a></p>
                        </div>
                    </div>

                    <div class="problem-item">
                        <div class="problem-header" onclick="toggleProblem('p2')">
                            <span class="problem-difficulty easy">Easy</span>
                            <span class="problem-title">35. Search Insert Position</span>
                            <span class="expand-icon">‚ñº</span>
                        </div>
                        <div id="p2" class="problem-details">
                            <p><strong>Description:</strong> Given a sorted array and a target, return the index where target would be if it were inserted in order.</p>
                            <pre>Input: nums = [1,3,5,6], target = 5
Output: 2</pre>
                            <p><strong>Constraints:</strong> 1 ‚â§ nums.length ‚â§ 10‚Å¥</p>
                            <p><a href="https://leetcode.com/problems/search-insert-position/" target="_blank">Solve on LeetCode ‚Üí</a></p>
                        </div>
                    </div>

                    <div class="problem-item">
                        <div class="problem-header" onclick="toggleProblem('p3')">
                            <span class="problem-difficulty easy">Easy</span>
                            <span class="problem-title">374. Guess Number Higher or Lower</span>
                            <span class="expand-icon">‚ñº</span>
                        </div>
                        <div id="p3" class="problem-details">
                            <p><strong>Description:</strong> Use binary search to guess a number from 1 to n using a predefined API.</p>
                            <pre>Input: n = 10, pick = 6
Output: 6</pre>
                            <p><strong>Constraints:</strong> 1 ‚â§ n ‚â§ 2¬≥¬π - 1</p>
                            <p><a href="https://leetcode.com/problems/guess-number-higher-or-lower/" target="_blank">Solve on LeetCode ‚Üí</a></p>
                        </div>
                    </div>

                    <div class="problem-item">
                        <div class="problem-header" onclick="toggleProblem('p4')">
                            <span class="problem-difficulty easy">Easy</span>
                            <span class="problem-title">69. Sqrt(x)</span>
                            <span class="expand-icon">‚ñº</span>
                        </div>
                        <div id="p4" class="problem-details">
                            <p><strong>Description:</strong> Compute and return the square root of x (rounded down to nearest integer).</p>
                            <pre>Input: x = 8
Output: 2
Explanation: sqrt(8) = 2.828..., return 2</pre>
                            <p><strong>Constraints:</strong> 0 ‚â§ x ‚â§ 2¬≥¬π - 1</p>
                            <p><a href="https://leetcode.com/problems/sqrtx/" target="_blank">Solve on LeetCode ‚Üí</a></p>
                        </div>
                    </div>

                    <div class="problem-item">
                        <div class="problem-header" onclick="toggleProblem('p5')">
                            <span class="problem-difficulty easy">Easy</span>
                            <span class="problem-title">367. Valid Perfect Square</span>
                            <span class="expand-icon">‚ñº</span>
                        </div>
                        <div id="p5" class="problem-details">
                            <p><strong>Description:</strong> Determine if a number is a perfect square using binary search.</p>
                            <pre>Input: num = 16
Output: true</pre>
                            <p><strong>Constraints:</strong> 1 ‚â§ num ‚â§ 2¬≥¬π - 1</p>
                            <p><a href="https://leetcode.com/problems/valid-perfect-square/" target="_blank">Solve on LeetCode ‚Üí</a></p>
                        </div>
                    </div>
                </div>

                <div style="margin-bottom: 30px;">
                    <div class="difficulty-header medium">Medium Problems (5)</div>
                    
                    <div class="problem-item">
                        <div class="problem-header" onclick="toggleProblem('p6')">
                            <span class="problem-difficulty medium">Medium</span>
                            <span class="problem-title">33. Search in Rotated Sorted Array</span>
                            <span class="expand-icon">‚ñº</span>
                        </div>
                        <div id="p6" class="problem-details">
                            <p><strong>Description:</strong> Search for a target value in a rotated sorted array in O(log n) time.</p>
                            <pre>Input: nums = [4,5,6,7,0,1,2], target = 0
Output: 4</pre>
                            <p><strong>Constraints:</strong> 1 ‚â§ nums.length ‚â§ 5000</p>
                            <p><a href="https://leetcode.com/problems/search-in-rotated-sorted-array/" target="_blank">Solve on LeetCode ‚Üí</a></p>
                        </div>
                    </div>

                    <div class="problem-item">
                        <div class="problem-header" onclick="toggleProblem('p7')">
                            <span class="problem-difficulty medium">Medium</span>
                            <span class="problem-title">34. Find First and Last Position</span>
                            <span class="expand-icon">‚ñº</span>
                        </div>
                        <div id="p7" class="problem-details">
                            <p><strong>Description:</strong> Find starting and ending position of a target value in sorted array.</p>
                            <pre>Input: nums = [5,7,7,8,8,10], target = 8
Output: [3,4]</pre>
                            <p><strong>Constraints:</strong> 0 ‚â§ nums.length ‚â§ 10‚Åµ</p>
                            <p><a href="https://leetcode.com/problems/find-first-and-last-position-of-element-in-sorted-array/" target="_blank">Solve on LeetCode ‚Üí</a></p>
                        </div>
                    </div>

                    <div class="problem-item">
                        <div class="problem-header" onclick="toggleProblem('p8')">
                            <span class="problem-difficulty medium">Medium</span>
                            <span class="problem-title">153. Find Minimum in Rotated Sorted Array</span>
                            <span class="expand-icon">‚ñº</span>
                        </div>
                        <div id="p8" class="problem-details">
                            <p><strong>Description:</strong> Find the minimum element in a rotated sorted array.</p>
                            <pre>Input: nums = [3,4,5,1,2]
Output: 1</pre>
                            <p><strong>Constraints:</strong> 1 ‚â§ nums.length ‚â§ 5000</p>
                            <p><a href="https://leetcode.com/problems/find-minimum-in-rotated-sorted-array/" target="_blank">Solve on LeetCode ‚Üí</a></p>
                        </div>
                    </div>

                    <div class="problem-item">
                        <div class="problem-header" onclick="toggleProblem('p9')">
                            <span class="problem-difficulty medium">Medium</span>
                            <span class="problem-title">162. Find Peak Element</span>
                            <span class="expand-icon">‚ñº</span>
                        </div>
                        <div id="p9" class="problem-details">
                            <p><strong>Description:</strong> Find a peak element where nums[i] > nums[i-1] and nums[i] > nums[i+1].</p>
                            <pre>Input: nums = [1,2,3,1]
Output: 2
Explanation: 3 is a peak element</pre>
                            <p><strong>Constraints:</strong> 1 ‚â§ nums.length ‚â§ 1000</p>
                            <p><a href="https://leetcode.com/problems/find-peak-element/" target="_blank">Solve on LeetCode ‚Üí</a></p>
                        </div>
                    </div>

                    <div class="problem-item">
                        <div class="problem-header" onclick="toggleProblem('p10')">
                            <span class="problem-difficulty medium">Medium</span>
                            <span class="problem-title">74. Search a 2D Matrix</span>
                            <span class="expand-icon">‚ñº</span>
                        </div>
                        <div id="p10" class="problem-details">
                            <p><strong>Description:</strong> Search for a value in an m x n matrix where each row is sorted.</p>
                            <pre>Input: matrix = [[1,3,5,7],[10,11,16,20],[23,30,34,60]], target = 3
Output: true</pre>
                            <p><strong>Constraints:</strong> m == matrix.length, n == matrix[i].length</p>
                            <p><a href="https://leetcode.com/problems/search-a-2d-matrix/" target="_blank">Solve on LeetCode ‚Üí</a></p>
                        </div>
                    </div>
                </div>

                <div style="margin-bottom: 30px;">
                    <div class="difficulty-header hard">Hard Problems (5)</div>
                    
                    <div class="problem-item">
                        <div class="problem-header" onclick="toggleProblem('p11')">
                            <span class="problem-difficulty hard">Hard</span>
                            <span class="problem-title">4. Median of Two Sorted Arrays</span>
                            <span class="expand-icon">‚ñº</span>
                        </div>
                        <div id="p11" class="problem-details">
                            <p><strong>Description:</strong> Find the median of two sorted arrays in O(log(m+n)) time.</p>
                            <pre>Input: nums1 = [1,3], nums2 = [2]
Output: 2.0
Explanation: merged = [1,2,3], median = 2</pre>
                            <p><strong>Constraints:</strong> nums1.length + nums2.length ‚â§ 2000</p>
                            <p><a href="https://leetcode.com/problems/median-of-two-sorted-arrays/" target="_blank">Solve on LeetCode ‚Üí</a></p>
                        </div>
                    </div>

                    <div class="problem-item">
                        <div class="problem-header" onclick="toggleProblem('p12')">
                            <span class="problem-difficulty hard">Hard</span>
                            <span class="problem-title">410. Split Array Largest Sum</span>
                            <span class="expand-icon">‚ñº</span>
                        </div>
                        <div id="p12" class="problem-details">
                            <p><strong>Description:</strong> Split array into m subarrays, minimize the largest sum among subarrays.</p>
                            <pre>Input: nums = [7,2,5,10,8], m = 2
Output: 18
Explanation: [7,2,5] and [10,8] ‚Üí max = 18</pre>
                            <p><strong>Constraints:</strong> 1 ‚â§ nums.length ‚â§ 1000</p>
                            <p><a href="https://leetcode.com/problems/split-array-largest-sum/" target="_blank">Solve on LeetCode ‚Üí</a></p>
                        </div>
                    </div>

                    <div class="problem-item">
                        <div class="problem-header" onclick="toggleProblem('p13')">
                            <span class="problem-difficulty hard">Hard</span>
                            <span class="problem-title">719. Find K-th Smallest Pair Distance</span>
                            <span class="expand-icon">‚ñº</span>
                        </div>
                        <div id="p13" class="problem-details">
                            <p><strong>Description:</strong> Find the k-th smallest distance among all pairs using binary search.</p>
                            <pre>Input: nums = [1,3,1], k = 1
Output: 0
Explanation: pairs are [1,3], [1,1], [3,1]</pre>
                            <p><strong>Constraints:</strong> n == nums.length, 2 ‚â§ n ‚â§ 10‚Å¥</p>
                            <p><a href="https://leetcode.com/problems/find-k-th-smallest-pair-distance/" target="_blank">Solve on LeetCode ‚Üí</a></p>
                        </div>
                    </div>

                    <div class="problem-item">
                        <div class="problem-header" onclick="toggleProblem('p14')">
                            <span class="problem-difficulty hard">Hard</span>
                            <span class="problem-title">154. Find Minimum in Rotated Array II</span>
                            <span class="expand-icon">‚ñº</span>
                        </div>
                        <div id="p14" class="problem-details">
                            <p><strong>Description:</strong> Find minimum in rotated sorted array with duplicates.</p>
                            <pre>Input: nums = [2,2,2,0,1]
Output: 0</pre>
                            <p><strong>Constraints:</strong> 1 ‚â§ nums.length ‚â§ 5000</p>
                            <p><a href="https://leetcode.com/problems/find-minimum-in-rotated-sorted-array-ii/" target="_blank">Solve on LeetCode ‚Üí</a></p>
                        </div>
                    </div>

                    <div class="problem-item">
                        <div class="problem-header" onclick="toggleProblem('p15')">
                            <span class="problem-difficulty hard">Hard</span>
                            <span class="problem-title">878. Nth Magical Number</span>
                            <span class="expand-icon">‚ñº</span>
                        </div>
                        <div id="p15" class="problem-details">
                            <p><strong>Description:</strong> Find the n-th magical number divisible by a or b using binary search.</p>
                            <pre>Input: n = 4, a = 2, b = 3
Output: 6
Explanation: magical numbers are 2,3,4,6...</pre>
                            <p><strong>Constraints:</strong> 1 ‚â§ n ‚â§ 10‚Åπ</p>
                            <p><a href="https://leetcode.com/problems/nth-magical-number/" target="_blank">Solve on LeetCode ‚Üí</a></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <footer>
            <p>¬© 2025 DSA Coding Patterns Guide</p>
        </footer>
    </div>

    <script>
        function toggleProblem(id) {
            var elem = document.getElementById(id);
            var icon = elem.previousElementSibling.querySelector('.expand-icon');
            if (elem.style.display === "none" || elem.style.display === "") {
                elem.style.display = "block";
                icon.textContent = "‚ñ≤";
            } else {
                elem.style.display = "none";
                icon.textContent = "‚ñº";
            }
        }

        const array = [1, 5, 9, 13, 17, 21, 23, 28, 34];
        const target = 23;
        let left = 0;
        let right = array.length - 1;
        let isComplete = false;
        let step = 0;

        function initializeArray() {
            const container = document.getElementById('arrayContainer');
            container.innerHTML = '';
            array.forEach((val, idx) => {
                const cell = document.createElement('div');
                cell.className = 'array-cell';
                cell.id = 'cell-' + idx;
                cell.textContent = val;
                container.appendChild(cell);
            });
        }

        function resetAnimation() {
            left = 0;
            right = array.length - 1;
            isComplete = false;
            step = 0;
            
            initializeArray();
            document.getElementById('statusMessage').textContent = 'Click ‚ñ∂ to start binary search';
            document.getElementById('playBtn').disabled = false;
            document.getElementById('resetBtn').disabled = true;
        }

        function playStep() {
            document.getElementById('resetBtn').disabled = false;

            if (isComplete) return;

            const statusMsg = document.getElementById('statusMessage');

            // Clear previous highlights
            array.forEach((_, idx) => {
                const cell = document.getElementById('cell-' + idx);
                cell.classList.remove('left', 'right', 'mid', 'found');
            });

            if (left > right) {
                statusMsg.innerHTML = '‚úó <strong>Not found!</strong> Search space exhausted.';
                document.getElementById('playBtn').disabled = true;
                isComplete = true;
                return;
            }

            const mid = Math.floor((left + right) / 2);

            // Show current state
            for (let i = 0; i < left; i++) {
                document.getElementById('cell-' + i).classList.add('eliminated');
            }
            for (let i = right + 1; i < array.length; i++) {
                document.getElementById('cell-' + i).classList.add('eliminated');
            }

            document.getElementById('cell-' + left).classList.add('left');
            document.getElementById('cell-' + mid).classList.add('mid');
            document.getElementById('cell-' + right).classList.add('right');

            statusMsg.innerHTML = `Step ${++step}: left=${left}, mid=${mid}, right=${right}<br>Comparing arr[${mid}]=${array[mid]} with target=${target}`;

            if (array[mid] === target) {
                document.getElementById('cell-' + mid).classList.remove('mid');
                document.getElementById('cell-' + mid).classList.add('found');
                statusMsg.innerHTML += `<br>‚úì <strong>Found!</strong> Target ${target} at index ${mid}`;
                document.getElementById('playBtn').disabled = true;
                isComplete = true;
            } else if (array[mid] < target) {
                statusMsg.innerHTML += `<br>‚Üí arr[${mid}] < target: Search <span style="color: #7986cb;">right half</span>`;
                left = mid + 1;
            } else {
                statusMsg.innerHTML += `<br>‚Üí arr[${mid}] > target: Search <span style="color: #e57373;">left half</span>`;
                right = mid - 1;
            }
        }

        // Initialize
        window.addEventListener('load', () => {
            resetAnimation();
        });
    </script>
</body>
</html>
