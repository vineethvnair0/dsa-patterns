<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Binary Search Pattern - DSA Patterns</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6; color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
        }
        .container {
            max-width: 1200px; margin: 0 auto; background: white;
            border-radius: 15px; box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
            overflow: hidden;
        }
        header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white; padding: 40px; position: relative;
        }
        .back-button {
            display: inline-block; color: white; text-decoration: none;
            font-size: 1.1em; margin-bottom: 20px; padding: 8px 16px;
            border: 2px solid white; border-radius: 5px;
            transition: all 0.3s ease;
        }
        .back-button:hover { background: white; color: #667eea; }
        header h1 { font-size: 2.5em; margin-bottom: 10px; }
        .category-badge {
            display: inline-block; background: rgba(255, 255, 255, 0.2);
            padding: 8px 16px; border-radius: 20px; font-size: 0.9em;
            margin-top: 10px;
        }
        .content { padding: 40px; }
        .section { margin-bottom: 40px; }
        .section h2 {
            color: #667eea; font-size: 1.8em; margin-bottom: 20px;
            padding-bottom: 10px; border-bottom: 3px solid #667eea;
        }
        .diagram {
            margin: 25px 0; padding: 25px; background: #f8f9fa;
            border-radius: 8px; border: 2px solid #e0e0e0;
        }
        .diagram-title {
            font-weight: bold; color: #667eea;
            margin-bottom: 15px; font-size: 1.2em;
        }
        .array-container {
            display: flex; align-items: center; gap: 8px;
            margin: 20px 0; flex-wrap: wrap; justify-content: center;
        }
        .array-cell {
            width: 60px; height: 60px; border: 3px solid #667eea;
            display: flex; align-items: center; justify-content: center;
            font-weight: bold; font-size: 1.2em; background: #fff;
            border-radius: 8px; position: relative;
            transition: all 0.3s ease;
        }
        .array-cell.left { background: #ffcdd2; border-color: #e57373; }
        .array-cell.right { background: #c5cae9; border-color: #7986cb; }
        .array-cell.mid { background: #fff59d; border-color: #fbc02d; transform: scale(1.15); }
        .array-cell.found { background: #81c784; border-color: #4caf50; transform: scale(1.15); }
        .array-cell.eliminated { background: #e0e0e0; border-color: #9e9e9e; opacity: 0.4; }
        .pointer-label {
            position: absolute; bottom: -25px;
            font-size: 0.8em; font-weight: bold;
        }
        .label-left { color: #e57373; }
        .label-mid { color: #fbc02d; }
        .label-right { color: #7986cb; }
        .btn {
            padding: 0; border: none; border-radius: 50%;
            background: #667eea; color: white; cursor: pointer;
            font-size: 24px; transition: all 0.3s ease;
            width: 50px; height: 50px;
            display: inline-flex; align-items: center; justify-content: center;
        }
        .btn:hover { background: #5568d3; transform: scale(1.1); }
        .btn:disabled {
            background: #ccc; cursor: not-allowed; transform: none; opacity: 0.5;
        }
        .animation-controls {
            display: flex; gap: 10px; justify-content: center; margin: 20px 0;
        }
        .code-example {
            background: #2c3e50; color: #ecf0f1; padding: 20px;
            border-radius: 8px; overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 0.95em; line-height: 1.6; white-space: pre;
        }
        .problem-item {
            background: #f8f9fa; margin-bottom: 10px; border-radius: 5px;
            overflow: hidden; border-left: 4px solid #667eea;
        }
        .problem-header {
            padding: 15px; cursor: pointer;
            display: flex; justify-content: space-between;
            align-items: center; transition: background 0.3s ease;
        }
        .problem-header:hover { background: #e9ecef; }
        .problem-difficulty {
            padding: 4px 12px; border-radius: 12px;
            font-size: 0.85em; font-weight: bold;
        }
        .problem-difficulty.easy { background: #4caf50; color: white; }
        .problem-difficulty.medium { background: #ff9800; color: white; }
        .problem-difficulty.hard { background: #f44336; color: white; }
        .problem-title {
            flex: 1; margin: 0 15px; font-weight: 600; color: #2c3e50;
        }
        .expand-icon {
            color: #667eea; font-weight: bold;
            transition: transform 0.3s ease;
        }
        .problem-details {
            display: none; padding: 20px; background: white;
            border-top: 1px solid #dee2e6;
        }
        .problem-details pre {
            background: #f8f9fa; padding: 15px; border-radius: 5px;
            overflow-x: auto; border-left: 3px solid #667eea;
        }
        .problem-details a {
            color: #667eea; text-decoration: none; font-weight: bold;
        }
        .problem-details a:hover { text-decoration: underline; }
        .difficulty-header {
            font-size: 1.3em; font-weight: bold;
            margin-bottom: 15px; padding: 10px; border-radius: 5px;
        }
        .difficulty-header.easy { background: #c8e6c9; color: #2e7d32; }
        .difficulty-header.medium { background: #fff9c4; color: #f57f17; }
        .difficulty-header.hard { background: #ffcdd2; color: #c62828; }
        footer {
            background: #2c3e50; color: white; text-align: center;
            padding: 20px; font-size: 0.9em;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <a href="../index.html" class="back-button">← Back to All Patterns</a>
            <h1>Pattern 4: Binary Search</h1>
            <span class="category-badge">Arrays</span>
        </header>

        <div class="content">
            <div class="section">
                <h2>Pattern Overview</h2>
                <p>Binary Search is one of the most efficient searching algorithms, designed to find elements in sorted arrays. By repeatedly dividing the search space in half, it dramatically reduces the time complexity from O(n) to O(log n).</p>
                <p>This technique works by comparing the target value with the middle element and eliminating half of the remaining elements with each comparison. It's a fundamental algorithm that serves as the foundation for many advanced searching and optimization problems.</p>
            </div>

            <div style="background: #e0e7ff; padding: 20px; border-radius: 8px; margin-bottom: 20px;">
                <h3 style="color: #2d3748; margin-bottom: 10px;">Problem: Binary Search in Sorted Array</h3>
                <p style="color: #4a5568; line-height: 1.8; margin-bottom: 15px;">
                    Given a sorted array of integers and a target value, find the index of the target in the array. If the target is not found, return -1. Use binary search to achieve O(log n) time complexity.
                </p>

                <div style="background: white; padding: 15px; border-radius: 5px; margin: 10px 0;">
                    <strong>Example:</strong><br>
                    <strong style="color: #667eea;">Input:</strong> array = [1, 5, 9, 13, 17, 21, 23, 28, 34], target = 23<br>
                    <strong style="color: #10b981;">Output:</strong> 6 (index where 23 is found)
                </div>

                <h3 style="color: #2d3748; margin: 15px 0 10px 0;">How it works:</h3>
                <ul style="color: #4a5568; line-height: 1.8; margin-left: 20px;">
                    <li>Start with <strong>left pointer</strong> at index 0, <strong>right pointer</strong> at last index</li>
                    <li>Calculate <strong>mid</strong> = (left + right) / 2</li>
                    <li>If array[mid] equals target → <strong>Found!</strong> Return mid</li>
                    <li>If array[mid] < target → Search <strong>right half</strong> (left = mid + 1)</li>
                    <li>If array[mid] > target → Search <strong>left half</strong> (right = mid - 1)</li>
                    <li>Repeat until target is found or search space is exhausted</li>
                    <li>Time complexity: O(log n), Space complexity: O(1)</li>
                </ul>
            </div>

            <div class="section">
                <h2>Animated Visual Diagram</h2>
                <p style="color: #555; margin-bottom: 20px;">
                    Watch how binary search efficiently finds the target by halving the search space with each step.
                </p>
                <div class="diagram">
                    <div class="diagram-title">Step-by-Step Visualization</div>
                    <p style="color: #666; margin-bottom: 20px;">Target = 23 in Sorted Array: [1, 5, 9, 13, 17, 21, 23, 28, 34]</p>
                    <div class="array-container" id="arrayContainer"></div>
                    <div id="statusMessage" style="text-align: center; margin: 20px 0; font-weight: bold; color: #667eea; min-height: 30px; font-size: 1.1em;"></div>
                    <div class="animation-controls">
                        <button id="backBtn" class="btn" onclick="backStep()" disabled title="Previous Step">◀</button>
                        <button id="playBtn" class="btn" onclick="playStep()" title="Next Step">▶</button>
                        <button id="resetBtn" class="btn" onclick="resetAnimation()" disabled title="Reset">⟲</button>
                    </div>
                    <div style="margin-top: 20px; padding: 15px; background: #e3f2fd; border-radius: 5px;">
                        <strong style="color: #1976d2;">How it works:</strong>
                        <ol style="margin-left: 20px; margin-top: 10px; color: #555;">
                            <li>Set left pointer at start, right pointer at end</li>
                            <li>Calculate mid = (left + right) / 2</li>
                            <li>If arr[mid] == target, found!</li>
                            <li>If arr[mid] < target, search right half (left = mid + 1)</li>
                            <li>If arr[mid] > target, search left half (right = mid - 1)</li>
                        </ol>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>More Examples</h2>

                <div class="problem-box" style="margin-bottom: 20px; padding: 20px; background: #f0f7ff; border-left: 4px solid #667eea; border-radius: 4px;">
                    <strong>Example 1: Search Insert Position</strong>
                    <div style="margin-top: 15px;">
                        <div style="background: #fff; padding: 15px; margin-top: 10px; border-radius: 4px; font-family: 'Courier New', monospace; border: 1px solid #e0e0e0;">
                            <strong>Input:</strong> nums = [1, 3, 5, 6], target = 5<br>
                            <strong>Output:</strong> 2<br>
                            <strong>Explanation:</strong> Binary search finds 5 at index 2
                        </div>
                    </div>
                </div>

                <div class="problem-box" style="margin-bottom: 20px; padding: 20px; background: #f0f7ff; border-left: 4px solid #667eea; border-radius: 4px;">
                    <strong>Example 2: Search in Rotated Array</strong>
                    <div style="margin-top: 15px;">
                        <div style="background: #fff; padding: 15px; margin-top: 10px; border-radius: 4px; font-family: 'Courier New', monospace; border: 1px solid #e0e0e0;">
                            <strong>Input:</strong> nums = [4, 5, 6, 7, 0, 1, 2], target = 0<br>
                            <strong>Output:</strong> 4<br>
                            <strong>Explanation:</strong> Modified binary search handles rotation to find target
                        </div>
                    </div>
                </div>

                <div class="problem-box" style="padding: 20px; background: #f0f7ff; border-left: 4px solid #667eea; border-radius: 4px;">
                    <strong>Example 3: First Bad Version</strong>
                    <div style="margin-top: 15px;">
                        <div style="background: #fff; padding: 15px; margin-top: 10px; border-radius: 4px; font-family: 'Courier New', monospace; border: 1px solid #e0e0e0;">
                            <strong>Input:</strong> n = 5, bad = 4<br>
                            <strong>Output:</strong> 4<br>
                            <strong>Explanation:</strong> Binary search minimizes API calls to find first bad version
                        </div>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>Solution Code</h2>
                <div class="code-example">public static int binarySearch(int[] arr, int target) {
    int left = 0, right = arr.length - 1;
    
    while (left <= right) {
        int mid = left + (right - left) / 2;
        
        if (arr[mid] == target) {
            return mid;  // Found!
        }
        
        if (arr[mid] < target) {
            left = mid + 1;  // Search right half
        } else {
            right = mid - 1; // Search left half
        }
    }
    
    return -1; // Not found
}

// Recursive approach
public static int binarySearchRecursive(int[] arr, int target, 
                                        int left, int right) {
    if (left > right) return -1;
    
    int mid = left + (right - left) / 2;
    
    if (arr[mid] == target) return mid;
    if (arr[mid] < target) 
        return binarySearchRecursive(arr, target, mid + 1, right);
    return binarySearchRecursive(arr, target, left, mid - 1);
}</div>
            </div>

            <div class="section">
                <h2>Solution Explanation</h2>
                <div style="margin: 25px 0; padding: 20px; background: #f9f9f9; border-left: 4px solid #4caf50; border-radius: 4px;">
                    <strong style="color: #4caf50; font-size: 1.1em;">Step-by-Step Breakdown:</strong>
                    <p style="margin-top: 10px; color: #555; line-height: 1.6;">
                        Binary search works by repeatedly eliminating half of the search space:
                    </p>
                    <ol style="margin: 15px 0 15px 25px;">
                        <li style="color: #555; margin-bottom: 10px; line-height: 1.8;"><strong>Initialize pointers:</strong> Set left = 0 and right = array.length - 1</li>
                        <li style="color: #555; margin-bottom: 10px; line-height: 1.8;"><strong>Calculate middle:</strong> mid = left + (right - left) / 2 (avoids integer overflow)</li>
                        <li style="color: #555; margin-bottom: 10px; line-height: 1.8;"><strong>Compare with target:</strong>
                            <ul style="margin-left: 20px; margin-top: 5px;">
                                <li>If arr[mid] == target → Success! Return mid</li>
                                <li>If arr[mid] < target → Target is in right half, set left = mid + 1</li>
                                <li>If arr[mid] > target → Target is in left half, set right = mid - 1</li>
                            </ul>
                        </li>
                        <li style="color: #555; margin-bottom: 10px; line-height: 1.8;"><strong>Repeat:</strong> Continue until left > right (not found) or target is found</li>
                    </ol>
                    <p style="margin-top: 15px; color: #555; line-height: 1.6;">
                        <strong>Key Insight:</strong> Each comparison eliminates half of the remaining elements, making this algorithm exponentially faster than linear search for large datasets.
                    </p>
                </div>
            </div>

            <div class="section">
                <h2>Complexity Analysis</h2>
                <div style="margin: 25px 0; padding: 15px 20px; background: #fff3e0; border-left: 4px solid #ff9800; border-radius: 4px;">
                    <strong style="color: #e65100;">Time Complexity:</strong> O(log n) | <strong style="color: #e65100;">Space Complexity:</strong> O(1) for iterative, O(log n) for recursive
                </div>
                <div style="margin-top: 15px; color: #555; line-height: 1.6;">
                    <p><strong>Time Complexity: O(log n)</strong></p>
                    <ul style="margin-left: 20px; margin-top: 5px;">
                        <li>Each iteration eliminates half of the remaining search space</li>
                        <li>For an array of size n, maximum comparisons = log₂(n)</li>
                        <li>Example: Array of 1 million elements needs only ~20 comparisons</li>
                        <li>Dramatically faster than O(n) linear search</li>
                    </ul>
                    <p style="margin-top: 15px;"><strong>Space Complexity:</strong></p>
                    <ul style="margin-left: 20px; margin-top: 5px;">
                        <li><strong>Iterative:</strong> O(1) - uses only constant extra space</li>
                        <li><strong>Recursive:</strong> O(log n) - recursion stack depth = log n</li>
                    </ul>
                </div>
            </div>

            <div class="section">
                <h2>Common Use Cases</h2>
                <ul style="margin-left: 25px; color: #555; line-height: 1.8;">
                    <li>Searching in sorted arrays or lists</li>
                    <li>Finding insertion positions for sorted data</li>
                    <li>Searching in rotated sorted arrays</li>
                    <li>Finding peaks, minimums, or boundaries</li>
                    <li>Optimizing search-based problems (minimize/maximize)</li>
                    <li>Square root and nth root calculations</li>
                    <li>Search in 2D matrices</li>
                    <li>Finding first/last occurrence of elements</li>
                </ul>
            </div>

            <div class="section">
                <h2>Practice Problems</h2>
                <p style="color: #555; margin-bottom: 25px;">Master the Binary Search pattern with these 15 curated LeetCode problems. Click on any problem to see the full description, examples, and constraints.</p>
                
                <div style="margin-bottom: 40px;">
                    <h3 style="color: #2c3e50; margin-bottom: 20px; font-size: 1.5em;">Easy Problems (5)</h3>
                    
                    <div class="problem-item">
                        <div class="problem-header" onclick="toggleProblem('p1')">
                            <span class="problem-difficulty easy">Easy</span>
                            <span class="problem-title">704. Binary Search</span>
                            <span class="expand-icon">▼</span>
                        </div>
                        <div id="p1" class="problem-details">
                            <p><strong>Description:</strong> Given a sorted array and a target value, return the index if found, otherwise return -1.</p>
                            <pre>Input: nums = [-1,0,3,5,9,12], target = 9
Output: 4
Explanation: 9 exists in nums at index 4</pre>
                            <p><strong>Constraints:</strong> 1 ≤ nums.length ≤ 10⁴</p>
                            <p><a href="https://leetcode.com/problems/binary-search/" target="_blank">Solve on LeetCode →</a></p>
                        </div>
                    </div>

                    <div class="problem-item">
                        <div class="problem-header" onclick="toggleProblem('p2')">
                            <span class="problem-difficulty easy">Easy</span>
                            <span class="problem-title">35. Search Insert Position</span>
                            <span class="expand-icon">▼</span>
                        </div>
                        <div id="p2" class="problem-details">
                            <p><strong>Description:</strong> Given a sorted array and a target, return the index where target would be if it were inserted in order.</p>
                            <pre>Input: nums = [1,3,5,6], target = 5
Output: 2</pre>
                            <p><strong>Constraints:</strong> 1 ≤ nums.length ≤ 10⁴</p>
                            <p><a href="https://leetcode.com/problems/search-insert-position/" target="_blank">Solve on LeetCode →</a></p>
                        </div>
                    </div>

                    <div class="problem-item">
                        <div class="problem-header" onclick="toggleProblem('p3')">
                            <span class="problem-difficulty easy">Easy</span>
                            <span class="problem-title">374. Guess Number Higher or Lower</span>
                            <span class="expand-icon">▼</span>
                        </div>
                        <div id="p3" class="problem-details">
                            <p><strong>Description:</strong> Use binary search to guess a number from 1 to n using a predefined API.</p>
                            <pre>Input: n = 10, pick = 6
Output: 6</pre>
                            <p><strong>Constraints:</strong> 1 ≤ n ≤ 2³¹ - 1</p>
                            <p><a href="https://leetcode.com/problems/guess-number-higher-or-lower/" target="_blank">Solve on LeetCode →</a></p>
                        </div>
                    </div>

                    <div class="problem-item">
                        <div class="problem-header" onclick="toggleProblem('p4')">
                            <span class="problem-difficulty easy">Easy</span>
                            <span class="problem-title">69. Sqrt(x)</span>
                            <span class="expand-icon">▼</span>
                        </div>
                        <div id="p4" class="problem-details">
                            <p><strong>Description:</strong> Compute and return the square root of x (rounded down to nearest integer).</p>
                            <pre>Input: x = 8
Output: 2
Explanation: sqrt(8) = 2.828..., return 2</pre>
                            <p><strong>Constraints:</strong> 0 ≤ x ≤ 2³¹ - 1</p>
                            <p><a href="https://leetcode.com/problems/sqrtx/" target="_blank">Solve on LeetCode →</a></p>
                        </div>
                    </div>

                    <div class="problem-item">
                        <div class="problem-header" onclick="toggleProblem('p5')">
                            <span class="problem-difficulty easy">Easy</span>
                            <span class="problem-title">367. Valid Perfect Square</span>
                            <span class="expand-icon">▼</span>
                        </div>
                        <div id="p5" class="problem-details">
                            <p><strong>Description:</strong> Determine if a number is a perfect square using binary search.</p>
                            <pre>Input: num = 16
Output: true</pre>
                            <p><strong>Constraints:</strong> 1 ≤ num ≤ 2³¹ - 1</p>
                            <p><a href="https://leetcode.com/problems/valid-perfect-square/" target="_blank">Solve on LeetCode →</a></p>
                        </div>
                    </div>
                </div>

                <div style="margin-bottom: 40px;">
                    <h3 style="color: #2c3e50; margin-bottom: 20px; font-size: 1.5em;">Medium Problems (5)</h3>
                    
                    <div class="problem-item">
                        <div class="problem-header" onclick="toggleProblem('p6')">
                            <span class="problem-difficulty medium">Medium</span>
                            <span class="problem-title">33. Search in Rotated Sorted Array</span>
                            <span class="expand-icon">▼</span>
                        </div>
                        <div id="p6" class="problem-details">
                            <p><strong>Description:</strong> Search for a target value in a rotated sorted array in O(log n) time.</p>
                            <pre>Input: nums = [4,5,6,7,0,1,2], target = 0
Output: 4</pre>
                            <p><strong>Constraints:</strong> 1 ≤ nums.length ≤ 5000</p>
                            <p><a href="https://leetcode.com/problems/search-in-rotated-sorted-array/" target="_blank">Solve on LeetCode →</a></p>
                        </div>
                    </div>

                    <div class="problem-item">
                        <div class="problem-header" onclick="toggleProblem('p7')">
                            <span class="problem-difficulty medium">Medium</span>
                            <span class="problem-title">34. Find First and Last Position</span>
                            <span class="expand-icon">▼</span>
                        </div>
                        <div id="p7" class="problem-details">
                            <p><strong>Description:</strong> Find starting and ending position of a target value in sorted array.</p>
                            <pre>Input: nums = [5,7,7,8,8,10], target = 8
Output: [3,4]</pre>
                            <p><strong>Constraints:</strong> 0 ≤ nums.length ≤ 10⁵</p>
                            <p><a href="https://leetcode.com/problems/find-first-and-last-position-of-element-in-sorted-array/" target="_blank">Solve on LeetCode →</a></p>
                        </div>
                    </div>

                    <div class="problem-item">
                        <div class="problem-header" onclick="toggleProblem('p8')">
                            <span class="problem-difficulty medium">Medium</span>
                            <span class="problem-title">153. Find Minimum in Rotated Sorted Array</span>
                            <span class="expand-icon">▼</span>
                        </div>
                        <div id="p8" class="problem-details">
                            <p><strong>Description:</strong> Find the minimum element in a rotated sorted array.</p>
                            <pre>Input: nums = [3,4,5,1,2]
Output: 1</pre>
                            <p><strong>Constraints:</strong> 1 ≤ nums.length ≤ 5000</p>
                            <p><a href="https://leetcode.com/problems/find-minimum-in-rotated-sorted-array/" target="_blank">Solve on LeetCode →</a></p>
                        </div>
                    </div>

                    <div class="problem-item">
                        <div class="problem-header" onclick="toggleProblem('p9')">
                            <span class="problem-difficulty medium">Medium</span>
                            <span class="problem-title">162. Find Peak Element</span>
                            <span class="expand-icon">▼</span>
                        </div>
                        <div id="p9" class="problem-details">
                            <p><strong>Description:</strong> Find a peak element where nums[i] > nums[i-1] and nums[i] > nums[i+1].</p>
                            <pre>Input: nums = [1,2,3,1]
Output: 2
Explanation: 3 is a peak element</pre>
                            <p><strong>Constraints:</strong> 1 ≤ nums.length ≤ 1000</p>
                            <p><a href="https://leetcode.com/problems/find-peak-element/" target="_blank">Solve on LeetCode →</a></p>
                        </div>
                    </div>

                    <div class="problem-item">
                        <div class="problem-header" onclick="toggleProblem('p10')">
                            <span class="problem-difficulty medium">Medium</span>
                            <span class="problem-title">74. Search a 2D Matrix</span>
                            <span class="expand-icon">▼</span>
                        </div>
                        <div id="p10" class="problem-details">
                            <p><strong>Description:</strong> Search for a value in an m x n matrix where each row is sorted.</p>
                            <pre>Input: matrix = [[1,3,5,7],[10,11,16,20],[23,30,34,60]], target = 3
Output: true</pre>
                            <p><strong>Constraints:</strong> m == matrix.length, n == matrix[i].length</p>
                            <p><a href="https://leetcode.com/problems/search-a-2d-matrix/" target="_blank">Solve on LeetCode →</a></p>
                        </div>
                    </div>
                </div>

                <div style="margin-bottom: 40px;">
                    <h3 style="color: #2c3e50; margin-bottom: 20px; font-size: 1.5em;">Hard Problems (5)</h3>
                    
                    <div class="problem-item">
                        <div class="problem-header" onclick="toggleProblem('p11')">
                            <span class="problem-difficulty hard">Hard</span>
                            <span class="problem-title">4. Median of Two Sorted Arrays</span>
                            <span class="expand-icon">▼</span>
                        </div>
                        <div id="p11" class="problem-details">
                            <p><strong>Description:</strong> Find the median of two sorted arrays in O(log(m+n)) time.</p>
                            <pre>Input: nums1 = [1,3], nums2 = [2]
Output: 2.0
Explanation: merged = [1,2,3], median = 2</pre>
                            <p><strong>Constraints:</strong> nums1.length + nums2.length ≤ 2000</p>
                            <p><a href="https://leetcode.com/problems/median-of-two-sorted-arrays/" target="_blank">Solve on LeetCode →</a></p>
                        </div>
                    </div>

                    <div class="problem-item">
                        <div class="problem-header" onclick="toggleProblem('p12')">
                            <span class="problem-difficulty hard">Hard</span>
                            <span class="problem-title">410. Split Array Largest Sum</span>
                            <span class="expand-icon">▼</span>
                        </div>
                        <div id="p12" class="problem-details">
                            <p><strong>Description:</strong> Split array into m subarrays, minimize the largest sum among subarrays.</p>
                            <pre>Input: nums = [7,2,5,10,8], m = 2
Output: 18
Explanation: [7,2,5] and [10,8] → max = 18</pre>
                            <p><strong>Constraints:</strong> 1 ≤ nums.length ≤ 1000</p>
                            <p><a href="https://leetcode.com/problems/split-array-largest-sum/" target="_blank">Solve on LeetCode →</a></p>
                        </div>
                    </div>

                    <div class="problem-item">
                        <div class="problem-header" onclick="toggleProblem('p13')">
                            <span class="problem-difficulty hard">Hard</span>
                            <span class="problem-title">719. Find K-th Smallest Pair Distance</span>
                            <span class="expand-icon">▼</span>
                        </div>
                        <div id="p13" class="problem-details">
                            <p><strong>Description:</strong> Find the k-th smallest distance among all pairs using binary search.</p>
                            <pre>Input: nums = [1,3,1], k = 1
Output: 0
Explanation: pairs are [1,3], [1,1], [3,1]</pre>
                            <p><strong>Constraints:</strong> n == nums.length, 2 ≤ n ≤ 10⁴</p>
                            <p><a href="https://leetcode.com/problems/find-k-th-smallest-pair-distance/" target="_blank">Solve on LeetCode →</a></p>
                        </div>
                    </div>

                    <div class="problem-item">
                        <div class="problem-header" onclick="toggleProblem('p14')">
                            <span class="problem-difficulty hard">Hard</span>
                            <span class="problem-title">154. Find Minimum in Rotated Array II</span>
                            <span class="expand-icon">▼</span>
                        </div>
                        <div id="p14" class="problem-details">
                            <p><strong>Description:</strong> Find minimum in rotated sorted array with duplicates.</p>
                            <pre>Input: nums = [2,2,2,0,1]
Output: 0</pre>
                            <p><strong>Constraints:</strong> 1 ≤ nums.length ≤ 5000</p>
                            <p><a href="https://leetcode.com/problems/find-minimum-in-rotated-sorted-array-ii/" target="_blank">Solve on LeetCode →</a></p>
                        </div>
                    </div>

                    <div class="problem-item">
                        <div class="problem-header" onclick="toggleProblem('p15')">
                            <span class="problem-difficulty hard">Hard</span>
                            <span class="problem-title">878. Nth Magical Number</span>
                            <span class="expand-icon">▼</span>
                        </div>
                        <div id="p15" class="problem-details">
                            <p><strong>Description:</strong> Find the n-th magical number divisible by a or b using binary search.</p>
                            <pre>Input: n = 4, a = 2, b = 3
Output: 6
Explanation: magical numbers are 2,3,4,6...</pre>
                            <p><strong>Constraints:</strong> 1 ≤ n ≤ 10⁹</p>
                            <p><a href="https://leetcode.com/problems/nth-magical-number/" target="_blank">Solve on LeetCode →</a></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <footer>
            <p>© 2025 DSA Coding Patterns Guide</p>
        </footer>
    </div>

    <script>
        function toggleProblem(id) {
            var elem = document.getElementById(id);
            var icon = elem.previousElementSibling.querySelector('.expand-icon');
            if (elem.style.display === "none" || elem.style.display === "") {
                elem.style.display = "block";
                icon.textContent = "▲";
            } else {
                elem.style.display = "none";
                icon.textContent = "▼";
            }
        }

        const array = [1, 5, 9, 13, 17, 21, 23, 28, 34];
        const target = 23;
        let left = 0;
        let right = array.length - 1;
        let isComplete = false;
        let step = 0;
        let history = [];

        function initializeArray() {
            const container = document.getElementById('arrayContainer');
            container.innerHTML = '';
            array.forEach((val, idx) => {
                const cell = document.createElement('div');
                cell.className = 'array-cell';
                cell.id = 'cell-' + idx;
                cell.textContent = val;
                container.appendChild(cell);
            });
        }

        function resetAnimation() {
            left = 0;
            right = array.length - 1;
            isComplete = false;
            step = 0;
            history = [{left: 0, right: array.length - 1, step: 0}];

            initializeArray();
            document.getElementById('statusMessage').textContent = 'Click ▶ to start binary search';
            document.getElementById('playBtn').disabled = false;
            document.getElementById('backBtn').disabled = true;
            document.getElementById('resetBtn').disabled = true;
        }

        function backStep() {
            if (history.length <= 1) {
                return;
            }

            // Remove current state
            history.pop();

            // Restore previous state
            const prevState = history[history.length - 1];
            left = prevState.left;
            right = prevState.right;
            step = prevState.step;
            isComplete = false;

            // Redraw array
            initializeArray();

            const mid = Math.floor((left + right) / 2);

            // Restore visual state
            for (let i = 0; i < left; i++) {
                document.getElementById('cell-' + i).classList.add('eliminated');
            }
            for (let i = right + 1; i < array.length; i++) {
                document.getElementById('cell-' + i).classList.add('eliminated');
            }

            if (step > 0) {
                document.getElementById('cell-' + left).classList.add('left');
                document.getElementById('cell-' + mid).classList.add('mid');
                document.getElementById('cell-' + right).classList.add('right');

                const statusMsg = document.getElementById('statusMessage');
                statusMsg.innerHTML = `Step ${step}: left=${left}, mid=${mid}, right=${right}<br>Comparing arr[${mid}]=${array[mid]} with target=${target}`;
            } else {
                document.getElementById('statusMessage').textContent = 'Click ▶ to start binary search';
            }

            // Enable play button
            document.getElementById('playBtn').disabled = false;

            // Disable back button if at start
            if (history.length <= 1) {
                document.getElementById('backBtn').disabled = true;
            }
        }

        function playStep() {
            document.getElementById('resetBtn').disabled = false;
            document.getElementById('backBtn').disabled = false;

            if (isComplete) return;

            const statusMsg = document.getElementById('statusMessage');

            // Clear previous highlights
            array.forEach((_, idx) => {
                const cell = document.getElementById('cell-' + idx);
                cell.classList.remove('left', 'right', 'mid', 'found');
            });

            if (left > right) {
                statusMsg.innerHTML = '✗ <strong>Not found!</strong> Search space exhausted.';
                document.getElementById('playBtn').disabled = true;
                isComplete = true;
                return;
            }

            const mid = Math.floor((left + right) / 2);

            // Show current state
            for (let i = 0; i < left; i++) {
                document.getElementById('cell-' + i).classList.add('eliminated');
            }
            for (let i = right + 1; i < array.length; i++) {
                document.getElementById('cell-' + i).classList.add('eliminated');
            }

            document.getElementById('cell-' + left).classList.add('left');
            document.getElementById('cell-' + mid).classList.add('mid');
            document.getElementById('cell-' + right).classList.add('right');

            statusMsg.innerHTML = `Step ${++step}: left=${left}, mid=${mid}, right=${right}<br>Comparing arr[${mid}]=${array[mid]} with target=${target}`;

            if (array[mid] === target) {
                document.getElementById('cell-' + mid).classList.remove('mid');
                document.getElementById('cell-' + mid).classList.add('found');
                statusMsg.innerHTML += `<br>✓ <strong>Found!</strong> Target ${target} at index ${mid}`;
                document.getElementById('playBtn').disabled = true;
                isComplete = true;
                history.push({left: left, right: right, step: step});
            } else if (array[mid] < target) {
                statusMsg.innerHTML += `<br>→ arr[${mid}] < target: Search <span style="color: #7986cb;">right half</span>`;
                left = mid + 1;
                history.push({left: left, right: right, step: step});
            } else {
                statusMsg.innerHTML += `<br>→ arr[${mid}] > target: Search <span style="color: #e57373;">left half</span>`;
                right = mid - 1;
                history.push({left: left, right: right, step: step});
            }
        }

        // Initialize
        window.addEventListener('load', () => {
            resetAnimation();
        });
    </script>
</body>
</html>
